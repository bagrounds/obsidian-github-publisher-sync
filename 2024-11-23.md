---  
share: true  
aliases:  
  - 2024-11-23  
title: 2024-11-23  
URL: https://bagrounds.org/reflections/2024-11-23  
Author: "[[bryan-grounds]]"  
tags:   
---  
[Home](index.md) > [Reflections](reflections/index.md) | [â®ï¸](reflections/2024-11-21.md)  
# 2024-11-23  
## â• Improving My Reflection Template  
### ğŸ–¼ï¸ Context  
1. âœï¸ [I Blog From Obsidian](2024-04-21.md#âœ%20Blogging%20From%20Obsidian)  
2. ğŸ¤– I automate the creation of reflections with [Templater](https://github.com/SilentVoid13/Templater).  
3. ğŸ˜¿ But my process isn't fully automated.  
    1. ğŸ”—ğŸ”¨ğŸ¥µ I manually update the â®ï¸ link.  
    2. ğŸ”—ğŸ•¹ï¸ğŸ¥µ And I semi-manually add the â­ï¸ link to the previous reflection.  
4. ğŸ“¢ğŸ“¢ I want to blog more.  
5. ğŸ¥§âœ… Theory: (all else equal) the easier it is, the more often I'll do it. See the [Tiny Habits Behavior Model](books/tiny-habits.md#Behavior%20model).  
  
### ğŸ¯ Goal  
âœï¸ğŸ¤– Streamline blogging.  
  
### ğŸ“ Specification  
ğŸ”§ Update my reflection template to  
1. â®ï¸ Insert the link to the previous reflection  
2. â­ï¸ Insert the link to this reflection in the previous reflection  
  
### ğŸªœ Steps  
#### 1) ğŸ¤– ChatGPT  
##### ğŸ—£ï¸â“ğŸ¤– Initial Prompt  
> I have an obsidian templater template to create a file in a folder.  
Each file in this folder is named after the current date: YYYY-MM-DD.  
I want to update the template to include a link to the most recent file.  
Can you write me a snippet of templater code to do this?  
  
##### ğŸ¤–ğŸ’¬ğŸ¤” Initial Response (Sans Explanation)  
_âš ï¸ Warning: this code is slightly broken_  
```js  
<%*  
const folderPath = 'your/folder/path'; // Replace with the path to your folder  
const today = tp.date.now("YYYY-MM-DD");  
const files = app.vault.getFiles();  
const recentFile = files  
  .filter(file => file.path.startsWith(folderPath) && file.name <= today)  
  .sort((a, b) => b.name.localeCompare(a.name))[0]; // Get the most recent file  
const link = recentFile ? `[[${recentFile.name}]]` : "No recent file found"; // Create link  
link  
%>  
```  
  
#### 2) ğŸ”§Modify -> â–¶ï¸ğŸ‘€Test -> â™»ï¸Repeat  
The first snippet didn't work.  
ChatGPT and I fixed errors and iterated.  
  
```mermaid  
flowchart  
    subgraph Loop [ ];  
        R("â–¶ï¸ Run Template") --> F("ğŸ›ğŸ‘€ Failure") --> C("ğŸ”§ Change Code") --> R  
    end  
  
    R --> S("ğŸ’°ğŸ‘€ Success")  
  
style Loop fill:none, stroke:none  
```  
  
### ğŸ“œ Result  
My reflection template now automatically creates a previous link pointing to the most recent reflection and modifies that reflection to link to the new one! ğŸ‰ğŸ¤–ğŸ¥‚ğŸ¥³  
  
```js  
[[index|Home]] > [[reflections/index|Reflections]] | <%*  
const folderPath = 'reflections'  
const today = tp.date.now("YYYY-MM-DD")  
const files = app.vault.getFiles()  
const recentFile = files  
  .filter(file => file.path.startsWith(folderPath) && file.name <= today)  
  .sort((a, b) => b.name.localeCompare(a.name))[0]  
  
const stripExtension = p => p.replace(/\.[^.]+$/, '')  
  
if (recentFile) {  
  const recentFilePath = stripExtension(recentFile.path)  
  const currentFilePath = recentFilePath.replace(/\d{4}(-\d{2}){2}/, today)  
  tR += `[[${recentFilePath}|â®ï¸]]`  
  const recentFileContent = await app.vault.read(recentFile)  
  const nextLink = `â®ï¸]] [[${currentFilePath}|â­ï¸]]`  
  const updatedContent = recentFileContent.replace('â®ï¸]]', nextLink)  
  await app.vault.modify(recentFile, updatedContent)  
} else {  
  tR += "No recent file found"  
}  
%>  
```  
  
### ğŸª Reflections  
1. ğŸ¤– Chat bots help.  
    1. ğŸ§ They're not perfect.  
    2. ğŸš„ But with good prompts, some patience, and iteration, they can dramatically speed up writing (code or otherwise) by quickly generating pretty good drafts.  
2. :) I â¤ï¸ emojis.  
3. ğŸ¤– I â¤ï¸ automation.  
    1. ğŸ¥§ Easier -> âœ… More  
4. ğŸ“£ I â¤ï¸ Blogging.  
    1. ğŸ¥³ I'm having fun.  
  
## ğŸ§‘â€ğŸš€ Exploring Quartz Features  
- [Free RSS feed and sitemap](https://quartz.jzhao.xyz/plugins/ContentIndex)  
- ğŸ’¬ [Giscus Comments?!](https://quartz.jzhao.xyz/features/comments)  
  - ğŸ¤¯ Did Quartz do this before or after [I did](reflections/2024-11-20.md)?  
- ğŸ¤¯ Obsidian and Quartz support [YouTube video embeds](https://quartz.jzhao.xyz/plugins/ObsidianFlavoredMarkdown) via markdown image syntax!  
  - I've been planning to eventually go through my video pages and figure out how to embed the YouTube video in the page.  
  - Now it's super easy.  
  - Check it out: [Parables on the Power of Planning in AI: From Poker to Diplomacy: Noam Brown (OpenAI)](videos/parables-on-the-power-of-planning-in-ai-from-poker-to-diplomacy-noam-brown-openai.md)  
  
## ğŸ§œ Troubleshooting Mermaid  
- ğŸ¤” the graph on this page renders in Obsidian but not on my website.  
  - ğŸ› on my site: syntax error, version 10.7.0  
- ğŸ¤ let's try upgrading mermaidjs to the latest version: 11.4.0  
- ğŸ¤” nope... Same error, different version  
- ğŸ’° There we go...  
  - ğŸš› adding a semicolon after the end bracket fixed it  
  - â¬œ I think some compilation step added whitespace after the square bracket and broke the parser  
  - â— I guess punctuation can be important  
  
## âš¡ Tuning the Build  
- Is 1 - 2 minutes too long to wait for my blog posts to publish? Yes. Let's  
  - cache dependencies  
  - combine jobs  
  - update actions  
  - reduce polling frequency  
  - use smaller containers with node pre-installed  
- here's the GitHub workflow file  
  - [before](https://github.com/bagrounds/obsidian-github-publisher-sync/blob/981b9d7c511c9745098124030cec80cabef00798/.github/workflows/deploy.yml)  
  - [after](https://github.com/bagrounds/obsidian-github-publisher-sync/blob/97203b53e27c508001360f7834c34c00d921e140/.github/workflows/deploy.yml)  
- we went from typically 1 - 2 minutes to typically 30 - 40 seconds  
  - most of the time spent over 30 seconds is waiting for a runner  
  - previously, most of the time spent over ~1 minutes was spent  
  
## ğŸ“¥ Invitation  
[I recently added comments to this site.](reflections/2024-11-20.md)  
1. ğŸ‘‚ What do you think?  
2. âš–ï¸ Have you found practical or entertainment value in anything I've written?  
3. ğŸª™ğŸª™ Do you have any advice?  
4. ğŸ’¬ If you have a GitHub account, let me know what you think by leaving a comment below (or how you feel by leaving an emoji reaction for this page).  
